var L=Object.defineProperty,N=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var p=(o,t,s)=>t in o?L(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s,m=(o,t)=>{for(var s in t||(t={}))q.call(t,s)&&p(o,s,t[s]);if(u)for(var s of u(t))W.call(t,s)&&p(o,s,t[s]);return o},y=(o,t)=>N(o,x(t));import{a as w,o as d,c as h,b as e,w as O,v as $,d as E,t as r,F,r as R,e as B,n as K,f as V}from"./vendor.d8f89343.js";const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};P();var S="/assets/search-icon.ce10c288.svg",v="/assets/test-temp.6d846b25.svg";var Y=(o,t)=>{const s=o.__vccOpts||o;for(const[c,a]of t)s[c]=a;return s};const z={name:"App",components:{},data(){return{inputCity:"",city:"",weatherArr:null,weatherActive:null,dayWeekArr:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],month:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"]}},created(){},updated(){},methods:{cityRequest(o){w.get(`http://api.openweathermap.org/geo/1.0/direct?q=${o}}&appid=b8d40d2cdfad62a779aceeddae3a3963`).then(s=>{console.log(s.data),s.data.length>0&&s.data[0].local_names?(this.city=s.data[0].local_names.ru,t(s.data[0])):(this.weatherArr=null,this.weatherActive=null,this.city=0)}).catch(s=>{console.log(s)});const t=s=>{w.get(`http://api.openweathermap.org/data/2.5/onecall?lat=${s.lat}&lon=${s.lon}&exclude=current,minutely,hourly,alerts&units=metric&lang=ru&appid=b8d40d2cdfad62a779aceeddae3a3963`).then(c=>{console.log(c.data);let n=c.data.daily.slice(0,5).map(i=>{const l=new Date(i.dt*1e3),_=l.getDate(),f=this.month[l.getMonth()],g=l.getFullYear(),A=l.getDay(),k=`${_} ${f}, ${g}`,C=Math.round(i.temp.day),D=Math.round(i.temp.night),b=Math.round(i.feels_like.day),M=Math.round(i.pressure/1.3333);return y(m({},i),{fullDay:k,dayWeek:A,tempDay:C,tempNight:D,feelsLike:b,pressureMM:M})});console.log(n),this.weatherArr=n,this.weatherActive=n[0]}).catch(c=>{console.log(c)})}},selectDay(o){let t=this.weatherArr[o];this.weatherActive=t}}},I={class:"wrapper"},T=e("img",{src:S},null,-1),U=[T],j={key:0,class:"weather"},G={class:"weather__selected"},H={class:"left-column"},J={class:"weather__selected-date"},Q={class:"weather__selected-city"},X={class:"weather__selected-temp"},Z=e("div",{class:"weather__selected-picture"},[e("img",{src:v,alt:""})],-1),ee={class:"weather__selected-day-temp"},te={class:"weather__selected-night-temp"},se=e("p",null,"\u043D\u043E\u0447\u044C\u044E",-1),ae={class:"right-column"},ie={class:"weather__selected-data"},ne=e("h3",null,"\u041E\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044F \u043A\u0430\u043A",-1),oe={class:"weather__selected-data"},re=e("h3",null,"\u0414\u0430\u0432\u043B\u0435\u043D\u0438\u0435",-1),ce={class:"weather__selected-data"},le=e("h3",null,"\u0412\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u044C \u0432\u043E\u0437\u0434\u0443\u0445\u0430",-1),de={class:"weather__selected-data"},he=e("h3",null,"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0432\u0435\u0442\u0440\u0430",-1),_e={class:"weather__future"},ue=e("h2",null,"\u041F\u0440\u043E\u0433\u043D\u043E\u0437 \u043F\u043E\u0433\u043E\u0434\u044B \u043F\u043E \u0434\u043D\u044F\u043C",-1),pe={class:"weather__items"},me=["onClick"],ye=e("div",{class:"weather__item-picture"},[e("img",{src:v,alt:""})],-1),we={class:"weather__item-temp"},ve={class:"weather__item-day"},fe={class:"weather__item-night"},ge={key:1};function Ae(o,t,s,c,a,n){return d(),h("div",I,[e("header",null,[O(e("input",{class:"search-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043E\u0440\u043E\u0434","onUpdate:modelValue":t[0]||(t[0]=i=>a.inputCity=i),onKeyup:t[1]||(t[1]=E(i=>n.cityRequest(this.inputCity),["enter"]))},null,544),[[$,a.inputCity]]),e("button",{class:"search-button",type:"button",onClick:t[2]||(t[2]=i=>n.cityRequest(this.inputCity))},U)]),this.weatherActive?(d(),h("main",j,[e("div",G,[e("div",H,[e("p",J,r(this.weatherActive.fullDay),1),e("h2",Q,r(this.city),1),e("div",X,[Z,e("span",ee,r(this.weatherActive.tempDay)+"\xB0C",1),e("div",te,[se,e("span",null,r(this.weatherActive.tempNight)+"\xB0C",1)])])]),e("div",ae,[e("div",ie,[ne,e("span",null,r(this.weatherActive.feelsLike)+"\xB0C",1)]),e("div",oe,[re,e("span",null,r(this.weatherActive.pressureMM)+"\u043C\u043C \u0440\u0442. \u0441\u0442.",1)]),e("div",ce,[le,e("span",null,r(this.weatherActive.humidity)+"%",1)]),e("div",de,[he,e("span",null,r(this.weatherActive.wind_speed)+" \u043C/\u0441",1)])])]),e("div",_e,[ue,e("div",pe,[(d(!0),h(F,null,R(a.weatherArr,(i,l)=>(d(),h("div",{class:"weather__item",key:i.dt},[e("h3",null,r(a.dayWeekArr[i.dayWeek]),1),e("div",{class:K(["weather__item-block",{active:i.dt===this.weatherActive.dt}]),onClick:_=>n.selectDay(l)},[ye,e("div",we,[e("p",ve,r(i.tempDay)+"\xB0C",1),e("p",fe,r(i.tempNight)+"\xB0C",1)])],10,me)]))),128))])])])):a.city===0?(d(),h("main",ge," \u0413\u043E\u0440\u043E\u0434 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D ")):B("",!0)])}var ke=Y(z,[["render",Ae]]);V(ke).mount("#app");
